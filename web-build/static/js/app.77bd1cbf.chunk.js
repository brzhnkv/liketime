(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{519:function(e,t,n){"use strict";n.d(t,"a",(function(){return rt}));var r=n(1),a=n.n(r),s=n(9),c=n.n(s),o=n(14),u=n.n(o),i=n(320),l=n(50),p=n(470),f=n(1547),m=n(72),b=n(518),g=n(521),v=n(164),O=n(0),y=n.n(O),x=n(69),h=n(21),j=n.n(h),E=n(97),w=n.n(E),P=n(8),S=n(10),k=y.a.createContext(null),C=y.a.createContext(null),I=function(e){return y.a.createElement(m.Icon,a()({},e,{name:"person-add"}))},M=function(e){return y.a.createElement(m.Icon,a()({},e,{name:"log-out"}))},N=function(){var e=Object(O.useContext)(C),t=c()(e,2),n=t[0],r=t[1],a=Object(O.useContext)(k),s=c()(a,2),o=(s[0],s[1]),i=Object(O.useState)(!0),p=c()(i,2),f=p[0],b=p[1],g=function(e){var t,a,s;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=j()(n),a=t.findIndex((function(t){return t.username===e})),t.unshift(t.splice(a,1)[0]),c.prev=3,c.next=6,u.a.awrap(l.a.setItem("users",JSON.stringify(t)));case 6:c.next=10;break;case 8:c.prev=8,c.t0=c.catch(3);case 10:return c.prev=10,c.t1=JSON,c.next=14,u.a.awrap(l.a.getItem("users"));case 14:c.t2=c.sent,s=c.t1.parse.call(c.t1,c.t2),r(s),c.next=21;break;case 19:c.prev=19,c.t3=c.catch(10);case 21:case"end":return c.stop()}}),null,null,[[3,8],[10,19]],Promise)},d=y.a.useState(!1),v=c()(d,2),x=v[0],h=v[1],E=function(){h(!x)},P=function(){return y.a.createElement(m.TopNavigationAction,{icon:function(){return y.a.createElement(S.a,{style:T.menuActionWrapper},y.a.createElement("img",{source:{uri:n[0].profilePic}}),y.a.createElement(m.Text,null,n[0].username))},onPress:E})};return Object(O.useEffect)((function(){n.length||navigation.navigate("Home")}),[n]),y.a.createElement(m.TopNavigation,{title:function(e){return y.a.createElement(S.a,{style:T.titleContainer},y.a.createElement(m.Text,e,"LikeTime"))},accessoryRight:function(){return y.a.createElement(m.OverflowMenu,{anchor:P,visible:x,onBackdropPress:E,placement:"bottom end",backdropStyle:T.backdrop,onSelect:E},n.slice(1).map((function(e){return y.a.createElement(m.MenuItem,{key:e.username,accessoryLeft:function(){return y.a.createElement(m.Avatar,{source:{uri:e.profilePic}})},title:e.username,onPress:function(e){return function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return E(),t.next=3,u.a.awrap(g(e));case 3:case"end":return t.stop()}}),null,null,null,Promise)}(e)}})})),y.a.createElement(m.MenuItem,{accessoryLeft:I,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442",onPress:function(){return E(),void o(!0)}}),y.a.createElement(m.MenuItem,{accessoryLeft:M,title:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b",disabled:!f,onPress:function(){return function(){var e,t,a;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return E(),e=n[0].username,b(!1),w.a.request({method:"DELETE",url:"http://localhost:5000/api/v1/user/"+e}),(t=j()(n)).shift(),s.prev=6,s.next=9,u.a.awrap(l.a.setItem("users",JSON.stringify(t)));case 9:s.next=13;break;case 11:s.prev=11,s.t0=s.catch(6);case 13:return s.prev=13,s.t1=JSON,s.next=17,u.a.awrap(l.a.getItem("users"));case 17:s.t2=s.sent,a=s.t1.parse.call(s.t1,s.t2),r(a),s.next=24;break;case 22:s.prev=22,s.t3=s.catch(13);case 24:b(!0);case 25:case"end":return s.stop()}}),null,null,[[6,11],[13,22]],Promise)}()}}))}})},T=P.a.create({titleContainer:{flexDirection:"row",alignItems:"center"},logo:{marginHorizontal:16},backdrop:{backgroundColor:"rgba(0, 0, 0, 0.5)"},menuActionWrapper:{display:"flex",flexDirection:"column",alignItems:"flex-end"}}),D=n(79),J=n(106),L=n(520),B=Object(J.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),A=B.actions,z=(A.increment,A.decrement,A.incrementByAmount,B.reducer),_=n(107),H=n(3),W=n.n(H);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){W()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=Object(J.b)({name:"messages",initialState:{statusMessages:[],logMessages:[],lastStatusMessage:""},reducers:{getMessages:function(){},setMessages:function(e,t){var n=t.payload,r=n.statusMessages,a=n.logMessages;return U(U({},e),{},{statusMessages:r,logMessages:a,lastStatusMessage:r[r.length-1]})},receiveStatusMessage:function(e,t){U(U({},e),{},{statusMessages:e.statusMessages.push(t.payload)}),e.lastStatusMessage=e.statusMessages[e.statusMessages.length-1]},receiveLogMessage:function(e,t){U(U({},e),{},{logMessages:e.logMessages.push(t.payload)})},clearMessages:function(){return{statusMessages:[],logMessages:[]}}}}),V=q.actions,F=V.getMessages,G=V.setMessages,$=V.receiveStatusMessage,K=V.receiveLogMessage,Q=V.clearMessages,X=q.reducer;function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){W()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=Object(J.b)({name:"status",initialState:{status:!1},reducers:{getStatus:function(){},setStatus:function(e,t){var n=t.payload.status;return Z(Z({},e),{},{status:n})}}}),te=ee.actions,ne=te.getStatus,re=te.setStatus,ae=ee.reducer;function se(e){return w.a.request({method:"POST",url:"http://localhost:5000/api/v1/user/messages",data:{username:e}})}var ce=u.a.mark(ie);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){W()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e){var t,n,r,a;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,t=e.payload,n=t.username,s.next=5,Object(_.a)(se,n);case 5:return r=s.sent,a=r.data,s.next=9,Object(_.b)(G(ue({},a)));case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),console.log(s.t0);case 14:case"end":return s.stop()}}),ce,null,[[0,11]])}function le(e){return w.a.request({method:"POST",url:"http://localhost:5000/api/v1/user/status",data:{username:e}})}var pe=u.a.mark(be);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){W()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e){var t,n,r,a;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,t=e.payload,n=t.username,s.next=5,Object(_.a)(le,n);case 5:return r=s.sent,a=r.data,s.next=9,Object(_.b)(re(me({},a)));case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),console.log(s.t0);case 14:case"end":return s.stop()}}),pe,null,[[0,11]])}var ge=u.a.mark(de);function de(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.c)(F.type,ie);case 2:return e.next=4,Object(_.c)(ne.type,be);case 4:case"end":return e.stop()}}),ge)}var ve=Object(L.a)(),Oe=[ve],ye=Object(D.c)({counter:z,messages:X,status:ae}),xe=Object(J.a)({reducer:ye,middleware:[].concat(j()(Object(J.c)({thunk:!1})),Oe)});ve.run(de);var he=xe,je=n(1548),Ee=n(1546),we=n(89),Pe=n(103),Se=n(133);function ke(e){var t=e.visible,n=e.setVisible,r=Object(O.useContext)(C),a=c()(r,2),s=a[0],o=a[1],i=Object(O.useState)(""),p=c()(i,2),f=p[0],m=p[1],b=Object(O.useState)(""),g=c()(b,2),d=g[0],v=g[1],x=function(){n(!1)};return y.a.createElement(Se.a.Container,{visible:t,onBackdropPress:x},y.a.createElement(Se.a.Title,null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),y.a.createElement(Se.a.Input,{style:Ce.input,autoCapitalize:"none",label:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",autoCorrect:!1,value:f,onChangeText:function(e){m(e)}}),y.a.createElement(Se.a.Input,{style:Ce.input,wrapperStyle:Ce.wrapper,autoCapitalize:"none",autoCorrect:!1,label:"\u041f\u0430\u0440\u043e\u043b\u044c:",value:d,onChangeText:function(e){v(e)}}),y.a.createElement(Se.a.Button,{label:"\u041e\u0442\u043c\u0435\u043d\u0430",onPress:x}),y.a.createElement(Se.a.Button,{label:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){w.a.post("http://localhost:5000/api/v1/user/",{username:f,password:d}).then((function(e){console.log(e);var t=e.data;!function(e){var t,n,r;u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=j()(s)).push(e),n=t.findIndex((function(t){return t.username===e.username})),t.unshift(t.splice(n,1)[0]),a.prev=4,a.next=7,u.a.awrap(l.a.setItem("users",JSON.stringify(t)));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(4),alert("error1");case 12:return a.prev=12,a.t1=JSON,a.next=16,u.a.awrap(l.a.getItem("users"));case 16:a.t2=a.sent,r=a.t1.parse.call(a.t1,a.t2),o(r),a.next=24;break;case 21:a.prev=21,a.t3=a.catch(12),alert("error2");case 24:case"end":return a.stop()}}),null,null,[[4,9],[12,21]],Promise)}({username:t.username,profilePic:t.userProfilePic,token:t.token})})).catch((function(e){console.log(e)})),n(!1)}}))}var Ce=P.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},input:{borderBottomColor:"black",borderBottomWidth:.8},wrapper:{}}),Ie=y.a.createContext(null),Me=function(e,t,n,r){return e.watch("/user/"+t+"/queue/"+n).subscribe((function(e){var t=JSON.parse(e.body).status;r(t)}))},Ne=n(273),Te=n(34),De=function(e){var t=e.message,n=e.index;return y.a.createElement(S.a,{style:Je.line},y.a.createElement(Te.a,{style:Je.index},n+1),y.a.createElement(Te.a,{style:Je.message},t))},Je=P.a.create({line:{flexDirection:"row",justifyContent:"flex-start"},index:{width:50,textAlign:"right",color:"#595959"},message:{paddingLeft:20,color:"#d6d6d6"}}),Le=function(){var e=Object(O.useRef)(null),t=Object(x.c)((function(e){return e.messages})).logMessages;return y.a.createElement(Ne.a,{style:{width:"100%",flexGrow:0,backgroundColor:"#222222"},data:t,renderItem:function(e){var t=e.item,n=e.index;return y.a.createElement(De,{message:t,index:n})},keyExtractor:function(e,t){return t.toString()},contentContainerStyle:{},ref:e,onContentSizeChange:function(){e.current.scrollToEnd()}})},Be=function(e){e.statusMessage;var t=Object(x.c)((function(e){return e.messages})).lastStatusMessage;return y.a.createElement(S.a,{style:Ae.root},y.a.createElement(Te.a,{style:Ae.title},t))},Ae=P.a.create({root:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",backgroundColor:"black",height:50,width:"100%"},title:{color:"white",paddingLeft:22}}),ze=P.a.create({root:{flex:1,marginTop:10,alignItems:"center",justifyContent:"flex-start"}}),_e=function(){var e=Object(O.useContext)(Ie),t=c()(e,1)[0],n=Object(O.useContext)(C),r=c()(n,1)[0],a=Object(x.c)((function(e){return e.status})).status,s=Object(x.b)();return y.a.createElement(S.a,{style:ze.root},y.a.createElement(v.Button,{colorScheme:"emerald",isLoading:a,isLoadingText:"\u0432 \u0440\u0430\u0431\u043e\u0442\u0435",onPress:function(){var e;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return s(Q()),n.next=3,u.a.awrap(t.activate());case 3:return setIsRunning(!0),e={username:r[0].username,token:r[0].token},n.next=7,u.a.awrap(t.publish({destination:"/app/test",body:JSON.stringify(e)}));case 7:case"end":return n.stop()}}),null,null,null,Promise)},variant:"outline",size:"sm"},"Test"),y.a.createElement(v.Button,{colorScheme:"emerald",size:"sm",variant:"outline",onPress:function(){var e={username:r[0].username,token:r[0].token,tag:"onedayinperu"};t.publish({destination:"/app/newlike",body:JSON.stringify(e)})}},"1212"),y.a.createElement(Be,null),y.a.createElement(Le,null))},He=n(112),We=P.a.create({root:{flex:1,marginTop:10,alignItems:"center",justifyContent:"flex-start"}}),Re=function(){var e=Object(O.useContext)(Ie),t=c()(e,1)[0],n=Object(O.useContext)(C),r=c()(n,1)[0];return y.a.createElement(S.a,{style:We.root},y.a.createElement(He.a,{title:"1212",onPress:function(){var e={username:r[0].username,token:r[0].token,tag:"onedayinperu"};t.publish({destination:"/app/newlike",body:JSON.stringify(e)})}}),y.a.createElement(Be,null),y.a.createElement(Le,null))},Ue=P.a.create({root:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},textInput:{height:40,borderBottomColor:"gray",borderBottomWidth:1,width:"80%",marginVertical:10}}),qe=function(e){var t=e.taskName,n=e.destination,r=e.buttonName,a=Object(O.useContext)(Ie),s=c()(a,1)[0],o=Object(O.useContext)(C),i=c()(o,1)[0],l=Object(O.useState)(""),p=c()(l,2),f=p[0],m=p[1],b=Object(x.b)(),g=Object(x.c)((function(e){return e.status})).status;return y.a.createElement(S.a,{style:Ue.root},y.a.createElement(Ne.b,{style:Ue.textInput,autoCapitalize:"none",autoCorrect:!1,textAlign:"center",value:f,placeholder:t,onChangeText:function(e){return m(e)}}),y.a.createElement(He.a,{title:r||"\u0421\u0442\u0430\u0440\u0442",disabled:g,onPress:function(){var e,t;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return""===f&&alert("\u0422\u0435\u0433 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c!"),e=(e=f).replace("#",""),b(Q()),r.next=6,u.a.awrap(s.activate());case 6:return t={username:i[0].username,token:i[0].token,tag:e},r.next=9,u.a.awrap(s.publish({destination:n,body:JSON.stringify(t)}));case 9:case"end":return r.stop()}}),null,null,null,Promise)}}))},Ve=P.a.create({root:{flex:1,marginTop:10,alignItems:"center",justifyContent:"flex-start"}}),Fe=function(){return y.a.createElement(S.a,{style:Ve.root},y.a.createElement(qe,{taskName:"\u041b\u0430\u0439\u043a",destination:"/app/like"}),y.a.createElement(qe,{taskName:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435",destination:"/app/save"}),y.a.createElement(qe,{taskName:"\u041b\u0430\u0439\u043a + \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435",destination:"/app/likeandsave"}),y.a.createElement(qe,{taskName:"\u0421\u0430\u043c\u043e\u043b\u0435\u0442",destination:"/app/sendmediatogroup"}),y.a.createElement(Be,null),y.a.createElement(Le,null))},Ge="#E8CEBF",$e="#fff",Ke=Object(je.a)(),Qe=function(e){e.navigation;var t=Object(O.useState)(new Ee.a),n=c()(t,2),r=n[0],s=(n[1],Object(O.useState)(!1)),o=c()(s,2),u=o[0],i=o[1],l=Object(O.useContext)(C),p=c()(l,2),f=p[0],m=(p[1],Object(O.useContext)(k)),b=c()(m,2),g=b[0],d=b[1],v=f[0].username,h=f[0].token,j=Object(x.c)((function(e){return e.status})).status;Object(O.useEffect)((function(){!0===j?r.activate():r.deactivate()}),[j]),r.configure(function(e,t){return{brokerURL:"ws://192.168.0.50:5000/ws",connectHeaders:{sessionId:e,token:t},appendMissingNULLonIncoming:!0,forceBinaryWSFrames:!0,debug:function(e){console.log("STOMP: "+e)},reconnectDelay:2e4,connectionTimeout:1e3}}(v,h));var E,w,P=Object(O.useState)(),I=c()(P,2),M=I[0],N=I[1];Object(O.useEffect)((function(){var e=r.connectionState$.subscribe(N);return i(M===we.a.OPEN),function(){return e.unsubscribe()}}));var T=Object(x.b)(),D=function(e){T($(e)),T(ne({username:f[0].username}))},J=function(e){return T(K(e))};return Object(O.useEffect)((function(){return T(F({username:f[0].username})),T(ne({username:f[0].username})),E=Me(r,v,"status",D),w=Me(r,v,"log",J),function(){E.unsubscribe(),w.unsubscribe()}}),[f]),y.a.createElement(Ie.Provider,{value:[r,u,i]},y.a.createElement(S.a,{style:Xe.root},y.a.createElement(Pe.a,{backgroundColor:$e,barStyle:"dark-content"}),y.a.createElement(ke,{visible:g,setVisible:d,style:Xe.dialog}),y.a.createElement(Ke.Navigator,null,y.a.createElement(Ke.Screen,{name:"\u041b\u0430\u0439\u043a\u0438"},(function(e){return y.a.createElement(Fe,a()({},e,{isConnected:u,visible:g,setVisible:d}))})),y.a.createElement(Ke.Screen,{name:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"},(function(e){return y.a.createElement(Re,e)})),y.a.createElement(Ke.Screen,{name:"Admin"},(function(e){return y.a.createElement(_e,e)})))))},Xe=P.a.create({root:{flex:1,backgroundColor:Ge}}),Ye=n(56),Ze=function(e){var t=e.navigation,n=Object(O.useContext)(C),r=c()(n,2),a=r[0],s=r[1],o=Object(O.useState)(""),i=c()(o,2),p=i[0],f=i[1],m=Object(O.useState)(""),b=c()(m,2),g=b[0],d=b[1],v=function(e){var t,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(t=[]).push(e),r.prev=2,r.next=5,u.a.awrap(l.a.setItem("users",JSON.stringify(t)));case 5:r.next=9;break;case 7:r.prev=7,r.t0=r.catch(2);case 9:return r.prev=9,r.t1=JSON,r.next=13,u.a.awrap(l.a.getItem("users"));case 13:r.t2=r.sent,n=r.t1.parse.call(r.t1,r.t2),s(n),r.next=20;break;case 18:r.prev=18,r.t3=r.catch(9);case 20:case"end":return r.stop()}}),null,null,[[2,7],[9,18]],Promise)};return Object(O.useEffect)((function(){a.length&&t.navigate("Home")}),[a]),y.a.createElement(S.a,{style:et.container},y.a.createElement(Te.a,{style:et.titleText},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),y.a.createElement(Ye.a,{style:et.textInput,placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:p,onChangeText:function(e){f(e)}}),y.a.createElement(Ye.a,{style:et.textInput,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",secureTextEntry:!0,value:g,onChangeText:function(e){d(e)}}),y.a.createElement(He.a,{title:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){w.a.post("http://localhost:5000/api/v1/user/",{username:p,password:g}).then((function(e){console.log(e);var t=e.data,n={username:t.username,profilePic:t.userProfilePic,token:t.token};v(n)})).catch((function(e){console.log(e)}))}}))},et=P.a.create({container:{flex:1,alignItems:"center"},titleText:{fontSize:30,fontWeight:"bold"},textInput:{margin:20,height:40,borderColor:"red",borderWidth:1,width:"80%"}}),tt=Object(f.a)(),nt=Object(v.extendTheme)({colors:{brand:{900:"#8287af",800:"#7c83db",700:"#b3bef6"}}});function rt(){var e=Object(O.useState)(!1),t=c()(e,2),n=t[0],r=t[1],s=Object(O.useState)(!1),o=c()(s,2),f=o[0],h=o[1],j=Object(O.useState)(""),E=c()(j,2),w=E[0],P=E[1],S=Object(O.useState)(""),I=c()(S,2),M=I[0],T=I[1],D=Object(O.useState)(""),J=c()(D,2),L=J[0],B=J[1],A=Object(O.useState)(""),z=c()(A,2),_=z[0],H=z[1],W=Object(O.useState)([]),R=c()(W,2),U=R[0],q=R[1],V=Object(O.useState)(!1),F=c()(V,2),G=F[0],$=F[1],K=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.awrap(l.a.getItem("@logged_in_user"));case 3:null==(e=t.sent)?P("Login"):(h(!0),Q(e),{username:"kflkl",profilePic:"dffd"},P("Home")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("error getting logged in user");case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)},Q=function(e){var t,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.awrap(l.a.getItem(e));case 3:t=r.sent,n=JSON.parse(t),H(n.token),T(e),B(n.profilePic),r.next=12;break;case 10:r.prev=10,r.t0=r.catch(0);case 12:case"end":return r.stop()}}),null,null,[[0,10]],Promise)},X=function(e,t){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=JSON.stringify(t),r.next=4,u.a.awrap(l.a.setItem(e,n));case 4:r.next=8;break;case 6:r.prev=6,r.t0=r.catch(0);case 8:Y(e);case 9:case"end":return r.stop()}}),null,null,[[0,6]],Promise)},Y=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.awrap(l.a.setItem("@logged_in_user",e));case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:return t.next=9,u.a.awrap(K());case 9:case"end":return t.stop()}}),null,null,[[0,5]],Promise)},Z=function(e,t){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=JSON.stringify(t),r.next=4,u.a.awrap(l.a.setItem(e,n));case 4:r.next=8;break;case 6:r.prev=6,r.t0=r.catch(0);case 8:return r.prev=8,r.next=11,u.a.awrap(l.a.setItem("@logged_in_user",e));case 11:r.next=15;break;case 13:r.prev=13,r.t1=r.catch(8);case 15:return r.prev=15,r.next=18,u.a.awrap(l.a.getItem("@logged_in_user"));case 18:d=r.sent,r.next=23;break;case 21:r.prev=21,r.t2=r.catch(15);case 23:return r.next=25,u.a.awrap(T(d));case 25:return r.next=27,u.a.awrap(Q(d));case 27:case"end":return r.stop()}}),null,null,[[0,6],[8,13],[15,21]],Promise)},ee=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=JSON,t.next=4,u.a.awrap(l.a.getItem("users"));case 4:t.t1=t.sent,(e=t.t0.parse.call(t.t0,t.t1)).length?(h(!0),q(e),P("Home")):P("Login"),t.next=12;break;case 9:t.prev=9,t.t2=t.catch(0),P("Login");case 12:case"end":return t.stop()}}),null,null,[[0,9]],Promise)};return n?y.a.createElement(x.a,{store:he},y.a.createElement(m.IconRegistry,{icons:b.EvaIconsPack}),y.a.createElement(m.ApplicationProvider,a()({},i,{theme:i.light}),y.a.createElement(v.NativeBaseProvider,{theme:nt},y.a.createElement(C.Provider,{value:[U,q]},y.a.createElement(k.Provider,{value:[G,$]},y.a.createElement(p.a,null,y.a.createElement(tt.Navigator,{initialRouteName:w},y.a.createElement(tt.Screen,{name:"Home",options:function(e){e.navigation;return{header:function(){return y.a.createElement(N,null)}}}},(function(e){return y.a.createElement(Qe,a()({},e,{isLoggedIn:f,loggedInUsername:M,userProfilePic:L,token:_,storeNewUser:Z,storeUser:X}))})),y.a.createElement(tt.Screen,{name:"Login"},(function(e){return y.a.createElement(Ze,e)}))))))))):y.a.createElement(g.a,{startAsync:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee());case 1:case"end":return e.stop()}}),null,null,null,Promise)},onFinish:function(){r(!0)},onError:function(){}})}},526:function(e,t,n){e.exports=n(1530)},859:function(e,t){}},[[526,1,2]]]);
//# sourceMappingURL=app.77bd1cbf.chunk.js.map