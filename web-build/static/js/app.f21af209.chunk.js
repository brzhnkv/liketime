(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{519:function(e,t,n){"use strict";n.d(t,"a",(function(){return at}));var r=n(1),a=n.n(r),s=n(9),c=n.n(s),o=n(14),u=n.n(o),i=n(320),l=n(50),p=n(470),f=n(1547),m=n(72),b=n(518),g=n(521),v=n(164),O=n(0),x=n.n(O),y=n(69),h=n(21),j=n.n(h),E=n(97),w=n.n(E),P=n(8),k=n(10),S=n(2),C=x.a.createContext(null),I=x.a.createContext(null),M=function(e){return x.a.createElement(m.Icon,a()({},e,{name:"person-add"}))},N=function(e){return x.a.createElement(m.Icon,a()({},e,{name:"log-out"}))},T=function(){var e=Object(O.useContext)(I),t=c()(e,2),n=t[0],r=t[1],a=Object(O.useContext)(C),s=c()(a,2),o=(s[0],s[1]),i=Object(O.useState)(!0),p=c()(i,2),f=p[0],b=p[1],g=function(e){var t,a,s;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=j()(n),a=t.findIndex((function(t){return t.username===e})),t.unshift(t.splice(a,1)[0]),c.prev=3,c.next=6,u.a.awrap(l.a.setItem("users",JSON.stringify(t)));case 6:c.next=10;break;case 8:c.prev=8,c.t0=c.catch(3);case 10:return c.prev=10,c.t1=JSON,c.next=14,u.a.awrap(l.a.getItem("users"));case 14:c.t2=c.sent,s=c.t1.parse.call(c.t1,c.t2),r(s),c.next=21;break;case 19:c.prev=19,c.t3=c.catch(10);case 21:case"end":return c.stop()}}),null,null,[[3,8],[10,19]],Promise)},v=(n[0].username,"https://instanext-server.herokuapp.com/api/v1/user/"+n[0].username),d=x.a.useState(!1),y=c()(d,2),h=y[0],E=y[1],P=function(){E(!h)},T=function(){return x.a.createElement(m.TopNavigationAction,{icon:function(){return x.a.createElement(k.a,{style:D.menuActionWrapper},x.a.createElement(S.Image,{source:{uri:n[0].profilePic},alt:"",height:50,width:50}),x.a.createElement(m.Text,null,n[0].username))},onPress:P})};return Object(O.useEffect)((function(){n.length||navigation.navigate("Home")}),[n]),x.a.createElement(m.TopNavigation,{title:function(e){return x.a.createElement(k.a,{style:D.titleContainer},x.a.createElement(m.Text,e,"LikeTime"))},accessoryRight:function(){return x.a.createElement(m.OverflowMenu,{anchor:T,visible:h,onBackdropPress:P,placement:"bottom end",backdropStyle:D.backdrop,onSelect:P},n.slice(1).map((function(e){return x.a.createElement(m.MenuItem,{key:e.username,accessoryLeft:function(){return x.a.createElement(m.Avatar,{source:{uri:e.profilePic}})},title:e.username,onPress:function(e){return function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return P(),t.next=3,u.a.awrap(g(e));case 3:case"end":return t.stop()}}),null,null,null,Promise)}(e)}})})),x.a.createElement(m.MenuItem,{accessoryLeft:M,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442",onPress:function(){return P(),void o(!0)}}),x.a.createElement(m.MenuItem,{accessoryLeft:N,title:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b",disabled:!f,onPress:function(){return function(){var e,t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return P(),b(!1),w.a.request({method:"DELETE",url:v}),(e=j()(n)).shift(),a.prev=5,a.next=8,u.a.awrap(l.a.setItem("users",JSON.stringify(e)));case 8:a.next=12;break;case 10:a.prev=10,a.t0=a.catch(5);case 12:return a.prev=12,a.t1=JSON,a.next=16,u.a.awrap(l.a.getItem("users"));case 16:a.t2=a.sent,t=a.t1.parse.call(a.t1,a.t2),r(t),a.next=23;break;case 21:a.prev=21,a.t3=a.catch(12);case 23:b(!0);case 24:case"end":return a.stop()}}),null,null,[[5,10],[12,21]],Promise)}()}}))}})},D=P.a.create({titleContainer:{flexDirection:"row",alignItems:"center"},logo:{marginHorizontal:16},backdrop:{backgroundColor:"rgba(0, 0, 0, 0.5)"},menuActionWrapper:{display:"flex",flexDirection:"column",alignItems:"flex-end"}}),J=n(79),L=n(106),B=n(520),A=Object(L.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),z=A.actions,_=(z.increment,z.decrement,z.incrementByAmount,A.reducer),H=n(107),W=n(3),R=n.n(W);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=Object(L.b)({name:"messages",initialState:{statusMessages:[],logMessages:[],lastStatusMessage:""},reducers:{getMessages:function(){},setMessages:function(e,t){var n=t.payload,r=n.statusMessages,a=n.logMessages;return q(q({},e),{},{statusMessages:r,logMessages:a,lastStatusMessage:r[r.length-1]})},receiveStatusMessage:function(e,t){q(q({},e),{},{statusMessages:e.statusMessages.push(t.payload)}),e.lastStatusMessage=e.statusMessages[e.statusMessages.length-1]},receiveLogMessage:function(e,t){q(q({},e),{},{logMessages:e.logMessages.push(t.payload)})},clearMessages:function(){return{statusMessages:[],logMessages:[]}}}}),F=V.actions,G=F.getMessages,$=F.setMessages,K=F.receiveStatusMessage,Q=F.receiveLogMessage,X=F.clearMessages,Y=V.reducer;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=Object(L.b)({name:"status",initialState:{status:!1},reducers:{getStatus:function(){},setStatus:function(e,t){var n=t.payload.status;return ee(ee({},e),{},{status:n})}}}),ne=te.actions,re=ne.getStatus,ae=ne.setStatus,se=te.reducer;function ce(e){return w.a.request({method:"POST",url:"https://instanext-server.herokuapp.com/api/v1/user/messages",data:{username:e}})}var oe=u.a.mark(le);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){var t,n,r,a;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,t=e.payload,n=t.username,s.next=5,Object(H.a)(ce,n);case 5:return r=s.sent,a=r.data,s.next=9,Object(H.b)($(ie({},a)));case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),console.log(s.t0);case 14:case"end":return s.stop()}}),oe,null,[[0,11]])}function pe(e){return w.a.request({method:"POST",url:"https://instanext-server.herokuapp.com/api/v1/user/messages",data:{username:e}})}var fe=u.a.mark(ge);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e){var t,n,r,a;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,t=e.payload,n=t.username,s.next=5,Object(H.a)(pe,n);case 5:return r=s.sent,a=r.data,s.next=9,Object(H.b)(ae(be({},a)));case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),console.log(s.t0);case 14:case"end":return s.stop()}}),fe,null,[[0,11]])}var ve=u.a.mark(de);function de(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.c)(G.type,le);case 2:return e.next=4,Object(H.c)(re.type,ge);case 4:case"end":return e.stop()}}),ve)}var Oe=Object(B.a)(),xe=[Oe],ye=Object(J.c)({counter:_,messages:Y,status:se}),he=Object(L.a)({reducer:ye,middleware:[].concat(j()(Object(L.c)({thunk:!1})),xe)});Oe.run(de);var je=he,Ee=n(1548),we=n(1546),Pe=n(89),ke=n(103),Se=n(133);function Ce(e){var t=e.visible,n=e.setVisible,r=Object(O.useContext)(I),a=c()(r,2),s=a[0],o=a[1],i=Object(O.useState)(""),p=c()(i,2),f=p[0],m=p[1],b=Object(O.useState)(""),g=c()(b,2),v=g[0],d=g[1],y=function(){n(!1)};return x.a.createElement(Se.a.Container,{visible:t,onBackdropPress:y},x.a.createElement(Se.a.Title,null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),x.a.createElement(Se.a.Input,{style:Ie.input,autoCapitalize:"none",label:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",autoCorrect:!1,value:f,onChangeText:function(e){m(e)}}),x.a.createElement(Se.a.Input,{style:Ie.input,wrapperStyle:Ie.wrapper,autoCapitalize:"none",autoCorrect:!1,label:"\u041f\u0430\u0440\u043e\u043b\u044c:",value:v,onChangeText:function(e){d(e)}}),x.a.createElement(Se.a.Button,{label:"\u041e\u0442\u043c\u0435\u043d\u0430",onPress:y}),x.a.createElement(Se.a.Button,{label:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){w.a.post("http://localhost:5000/api/v1/user/",{username:f,password:v}).then((function(e){console.log(e);var t=e.data;!function(e){var t,n,r;u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=j()(s)).push(e),n=t.findIndex((function(t){return t.username===e.username})),t.unshift(t.splice(n,1)[0]),a.prev=4,a.next=7,u.a.awrap(l.a.setItem("users",JSON.stringify(t)));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(4),alert("error1");case 12:return a.prev=12,a.t1=JSON,a.next=16,u.a.awrap(l.a.getItem("users"));case 16:a.t2=a.sent,r=a.t1.parse.call(a.t1,a.t2),o(r),a.next=24;break;case 21:a.prev=21,a.t3=a.catch(12),alert("error2");case 24:case"end":return a.stop()}}),null,null,[[4,9],[12,21]],Promise)}({username:t.username,profilePic:t.userProfilePic,token:t.token})})).catch((function(e){console.log(e)})),n(!1)}}))}var Ie=P.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},input:{borderBottomColor:"black",borderBottomWidth:.8},wrapper:{}}),Me=x.a.createContext(null),Ne=function(e,t,n,r){return e.watch("/user/"+t+"/queue/"+n).subscribe((function(e){var t=JSON.parse(e.body).status;r(t)}))},Te=n(273),De=n(34),Je=function(e){var t=e.message,n=e.index;return x.a.createElement(k.a,{style:Le.line},x.a.createElement(De.a,{style:Le.index},n+1),x.a.createElement(De.a,{style:Le.message},t))},Le=P.a.create({line:{flexDirection:"row",justifyContent:"flex-start"},index:{width:50,textAlign:"right",color:"#595959"},message:{paddingLeft:20,color:"#d6d6d6"}}),Be=function(){var e=Object(O.useRef)(null),t=Object(y.c)((function(e){return e.messages})).logMessages;return x.a.createElement(Te.a,{style:{width:"100%",flexGrow:0,backgroundColor:"#222222"},data:t,renderItem:function(e){var t=e.item,n=e.index;return x.a.createElement(Je,{message:t,index:n})},keyExtractor:function(e,t){return t.toString()},contentContainerStyle:{},ref:e,onContentSizeChange:function(){e.current.scrollToEnd()}})},Ae=function(e){e.statusMessage;var t=Object(y.c)((function(e){return e.messages})).lastStatusMessage;return x.a.createElement(k.a,{style:ze.root},x.a.createElement(De.a,{style:ze.title},t))},ze=P.a.create({root:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",backgroundColor:"black",height:50,width:"100%"},title:{color:"white",paddingLeft:22}}),_e=P.a.create({root:{flex:1,marginTop:10,alignItems:"center",justifyContent:"flex-start"}}),He=function(){var e=Object(O.useContext)(Me),t=c()(e,1)[0],n=Object(O.useContext)(I),r=c()(n,1)[0],a=Object(y.c)((function(e){return e.status})).status,s=Object(y.b)();return x.a.createElement(k.a,{style:_e.root},x.a.createElement(v.Button,{colorScheme:"emerald",isLoading:a,isLoadingText:"\u0432 \u0440\u0430\u0431\u043e\u0442\u0435",onPress:function(){var e;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return s(X()),n.next=3,u.a.awrap(t.activate());case 3:return setIsRunning(!0),e={username:r[0].username,token:r[0].token},n.next=7,u.a.awrap(t.publish({destination:"/app/test",body:JSON.stringify(e)}));case 7:case"end":return n.stop()}}),null,null,null,Promise)},variant:"outline",size:"sm"},"Test"),x.a.createElement(v.Button,{colorScheme:"emerald",size:"sm",variant:"outline",onPress:function(){var e={username:r[0].username,token:r[0].token,tag:"onedayinperu"};t.publish({destination:"/app/newlike",body:JSON.stringify(e)})}},"1212"),x.a.createElement(Ae,null),x.a.createElement(Be,null))},We=n(112),Re=P.a.create({root:{flex:1,marginTop:10,alignItems:"center",justifyContent:"flex-start"}}),Ue=function(){var e=Object(O.useContext)(Me),t=c()(e,1)[0],n=Object(O.useContext)(I),r=c()(n,1)[0];return x.a.createElement(k.a,{style:Re.root},x.a.createElement(We.a,{title:"1212",onPress:function(){var e={username:r[0].username,token:r[0].token,tag:"onedayinperu"};t.publish({destination:"/app/newlike",body:JSON.stringify(e)})}}),x.a.createElement(Ae,null),x.a.createElement(Be,null))},qe=P.a.create({root:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},textInput:{height:40,borderBottomColor:"gray",borderBottomWidth:1,width:"80%",marginVertical:10}}),Ve=function(e){var t=e.taskName,n=e.destination,r=e.buttonName,a=Object(O.useContext)(Me),s=c()(a,1)[0],o=Object(O.useContext)(I),i=c()(o,1)[0],l=Object(O.useState)(""),p=c()(l,2),f=p[0],m=p[1],b=Object(y.b)(),g=Object(y.c)((function(e){return e.status})).status;return x.a.createElement(k.a,{style:qe.root},x.a.createElement(Te.b,{style:qe.textInput,autoCapitalize:"none",autoCorrect:!1,textAlign:"center",value:f,placeholder:t,onChangeText:function(e){return m(e)}}),x.a.createElement(We.a,{title:r||"\u0421\u0442\u0430\u0440\u0442",disabled:g,onPress:function(){var e,t;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return""===f&&alert("\u0422\u0435\u0433 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c!"),e=(e=f).replace("#",""),b(X()),r.next=6,u.a.awrap(s.activate());case 6:return t={username:i[0].username,token:i[0].token,tag:e},r.next=9,u.a.awrap(s.publish({destination:n,body:JSON.stringify(t)}));case 9:case"end":return r.stop()}}),null,null,null,Promise)}}))},Fe=P.a.create({root:{flex:1,marginTop:10,alignItems:"center",justifyContent:"flex-start"}}),Ge=function(){return x.a.createElement(k.a,{style:Fe.root},x.a.createElement(Ve,{taskName:"\u041b\u0430\u0439\u043a",destination:"/app/like"}),x.a.createElement(Ve,{taskName:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435",destination:"/app/save"}),x.a.createElement(Ve,{taskName:"\u041b\u0430\u0439\u043a + \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435",destination:"/app/likeandsave"}),x.a.createElement(Ve,{taskName:"\u0421\u0430\u043c\u043e\u043b\u0435\u0442",destination:"/app/sendmediatogroup"}),x.a.createElement(Ae,null),x.a.createElement(Be,null))},$e="#E8CEBF",Ke="#fff",Qe=Object(Ee.a)(),Xe=function(e){e.navigation;var t=Object(O.useState)(new we.a),n=c()(t,2),r=n[0],s=(n[1],Object(O.useState)(!1)),o=c()(s,2),u=o[0],i=o[1],l=Object(O.useContext)(I),p=c()(l,2),f=p[0],m=(p[1],Object(O.useContext)(C)),b=c()(m,2),g=b[0],v=b[1],d=f[0].username,h=f[0].token,j=Object(y.c)((function(e){return e.status})).status;Object(O.useEffect)((function(){!0===j?r.activate():r.deactivate()}),[j]),r.configure(function(e,t){return{brokerURL:"wss://instanext-server.herokuapp.com/ws",connectHeaders:{sessionId:e,token:t},appendMissingNULLonIncoming:!0,forceBinaryWSFrames:!0,debug:function(e){console.log("STOMP: "+e)},reconnectDelay:2e4,connectionTimeout:1e3}}(d,h));var E,w,P=Object(O.useState)(),S=c()(P,2),M=S[0],N=S[1];Object(O.useEffect)((function(){var e=r.connectionState$.subscribe(N);return i(M===Pe.a.OPEN),function(){return e.unsubscribe()}}));var T=Object(y.b)(),D=function(e){T(K(e)),T(re({username:f[0].username}))},J=function(e){return T(Q(e))};return Object(O.useEffect)((function(){return T(G({username:f[0].username})),T(re({username:f[0].username})),E=Ne(r,d,"status",D),w=Ne(r,d,"log",J),function(){E.unsubscribe(),w.unsubscribe()}}),[f]),x.a.createElement(Me.Provider,{value:[r,u,i]},x.a.createElement(k.a,{style:Ye.root},x.a.createElement(ke.a,{backgroundColor:Ke,barStyle:"dark-content"}),x.a.createElement(Ce,{visible:g,setVisible:v,style:Ye.dialog}),x.a.createElement(Qe.Navigator,null,x.a.createElement(Qe.Screen,{name:"\u041b\u0430\u0439\u043a\u0438"},(function(e){return x.a.createElement(Ge,a()({},e,{isConnected:u,visible:g,setVisible:v}))})),x.a.createElement(Qe.Screen,{name:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"},(function(e){return x.a.createElement(Ue,e)})),x.a.createElement(Qe.Screen,{name:"Admin"},(function(e){return x.a.createElement(He,e)})))))},Ye=P.a.create({root:{flex:1,backgroundColor:$e}}),Ze=n(56),et=function(e){var t=e.navigation,n=Object(O.useContext)(I),r=c()(n,2),a=r[0],s=r[1],o=Object(O.useState)(""),i=c()(o,2),p=i[0],f=i[1],m=Object(O.useState)(""),b=c()(m,2),g=b[0],v=b[1],d=function(e){var t,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(t=[]).push(e),r.prev=2,r.next=5,u.a.awrap(l.a.setItem("users",JSON.stringify(t)));case 5:r.next=9;break;case 7:r.prev=7,r.t0=r.catch(2);case 9:return r.prev=9,r.t1=JSON,r.next=13,u.a.awrap(l.a.getItem("users"));case 13:r.t2=r.sent,n=r.t1.parse.call(r.t1,r.t2),s(n),r.next=20;break;case 18:r.prev=18,r.t3=r.catch(9);case 20:case"end":return r.stop()}}),null,null,[[2,7],[9,18]],Promise)};return Object(O.useEffect)((function(){a.length&&t.navigate("Home")}),[a]),x.a.createElement(k.a,{style:tt.container},x.a.createElement(De.a,{style:tt.titleText},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),x.a.createElement(Ze.a,{style:tt.textInput,placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:p,onChangeText:function(e){f(e)}}),x.a.createElement(Ze.a,{style:tt.textInput,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",secureTextEntry:!0,value:g,onChangeText:function(e){v(e)}}),x.a.createElement(We.a,{title:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){w.a.post("https://instanext-server.herokuapp.com/api/v1/user/",{username:p,password:g}).then((function(e){console.log(e);var t=e.data,n={username:t.username,profilePic:t.userProfilePic,token:t.token};d(n)})).catch((function(e){console.log(e)}))}}))},tt=P.a.create({container:{flex:1,alignItems:"center"},titleText:{fontSize:30,fontWeight:"bold"},textInput:{margin:20,height:40,borderColor:"red",borderWidth:1,width:"80%"}}),nt=Object(f.a)(),rt=Object(v.extendTheme)({colors:{brand:{900:"#8287af",800:"#7c83db",700:"#b3bef6"}}});function at(){var e=Object(O.useState)(!1),t=c()(e,2),n=t[0],r=t[1],s=Object(O.useState)(!1),o=c()(s,2),f=o[0],h=o[1],j=Object(O.useState)(""),E=c()(j,2),w=E[0],P=E[1],k=Object(O.useState)(""),S=c()(k,2),M=S[0],N=S[1],D=Object(O.useState)(""),J=c()(D,2),L=J[0],B=J[1],A=Object(O.useState)(""),z=c()(A,2),_=z[0],H=z[1],W=Object(O.useState)([]),R=c()(W,2),U=R[0],q=R[1],V=Object(O.useState)(!1),F=c()(V,2),G=F[0],$=F[1],K=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.awrap(l.a.getItem("@logged_in_user"));case 3:null==(e=t.sent)?P("Login"):(h(!0),Q(e),{username:"kflkl",profilePic:"dffd"},P("Home")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("error getting logged in user");case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)},Q=function(e){var t,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.awrap(l.a.getItem(e));case 3:t=r.sent,n=JSON.parse(t),H(n.token),N(e),B(n.profilePic),r.next=12;break;case 10:r.prev=10,r.t0=r.catch(0);case 12:case"end":return r.stop()}}),null,null,[[0,10]],Promise)},X=function(e,t){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=JSON.stringify(t),r.next=4,u.a.awrap(l.a.setItem(e,n));case 4:r.next=8;break;case 6:r.prev=6,r.t0=r.catch(0);case 8:Y(e);case 9:case"end":return r.stop()}}),null,null,[[0,6]],Promise)},Y=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.awrap(l.a.setItem("@logged_in_user",e));case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:return t.next=9,u.a.awrap(K());case 9:case"end":return t.stop()}}),null,null,[[0,5]],Promise)},Z=function(e,t){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=JSON.stringify(t),r.next=4,u.a.awrap(l.a.setItem(e,n));case 4:r.next=8;break;case 6:r.prev=6,r.t0=r.catch(0);case 8:return r.prev=8,r.next=11,u.a.awrap(l.a.setItem("@logged_in_user",e));case 11:r.next=15;break;case 13:r.prev=13,r.t1=r.catch(8);case 15:return r.prev=15,r.next=18,u.a.awrap(l.a.getItem("@logged_in_user"));case 18:d=r.sent,r.next=23;break;case 21:r.prev=21,r.t2=r.catch(15);case 23:return r.next=25,u.a.awrap(N(d));case 25:return r.next=27,u.a.awrap(Q(d));case 27:case"end":return r.stop()}}),null,null,[[0,6],[8,13],[15,21]],Promise)},ee=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=JSON,t.next=4,u.a.awrap(l.a.getItem("users"));case 4:t.t1=t.sent,(e=t.t0.parse.call(t.t0,t.t1)).length?(h(!0),q(e),P("Home")):P("Login"),t.next=12;break;case 9:t.prev=9,t.t2=t.catch(0),P("Login");case 12:case"end":return t.stop()}}),null,null,[[0,9]],Promise)};return n?x.a.createElement(y.a,{store:je},x.a.createElement(m.IconRegistry,{icons:b.EvaIconsPack}),x.a.createElement(m.ApplicationProvider,a()({},i,{theme:i.light}),x.a.createElement(v.NativeBaseProvider,{theme:rt},x.a.createElement(I.Provider,{value:[U,q]},x.a.createElement(C.Provider,{value:[G,$]},x.a.createElement(p.a,null,x.a.createElement(nt.Navigator,{initialRouteName:w},x.a.createElement(nt.Screen,{name:"Home",options:function(e){e.navigation;return{header:function(){return x.a.createElement(T,null)}}}},(function(e){return x.a.createElement(Xe,a()({},e,{isLoggedIn:f,loggedInUsername:M,userProfilePic:L,token:_,storeNewUser:Z,storeUser:X}))})),x.a.createElement(nt.Screen,{name:"Login"},(function(e){return x.a.createElement(et,e)}))))))))):x.a.createElement(g.a,{startAsync:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee());case 1:case"end":return e.stop()}}),null,null,null,Promise)},onFinish:function(){r(!0)},onError:function(){}})}},526:function(e,t,n){e.exports=n(1530)},859:function(e,t){}},[[526,1,2]]]);
//# sourceMappingURL=app.f21af209.chunk.js.map