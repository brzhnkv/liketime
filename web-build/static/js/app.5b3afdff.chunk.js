(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{528:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ke}));var a=n(1),r=n.n(a),s=n(9),c=n.n(s),o=n(14),u=n.n(o),i=n(328),l=n(52),p=n(479),f=n(1556),m=n(74),g=n(527),b=n(530),v=n(170),x=n(0),h=n.n(x),O=n(71),y=n(21),E=n.n(y),j=n(162),w=n.n(j),k=n(8),S=n(10),P=h.a.createContext(null),I=h.a.createContext(null),C=function(e){return h.a.createElement(m.Icon,r()({},e,{name:"person-add"}))},M=function(e){return h.a.createElement(m.Icon,r()({},e,{name:"log-out"}))},N=function(){var e=Object(x.useContext)(I),t=c()(e,2),n=t[0],a=t[1],r=Object(x.useContext)(P),s=c()(r,2),o=(s[0],s[1]),i=Object(x.useState)(!0),p=c()(i,2),f=p[0],g=p[1],b=function(e){var t,r,s;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=E()(n),r=t.findIndex((function(t){return t.username===e})),t.unshift(t.splice(r,1)[0]),c.prev=3,c.next=6,u.a.awrap(l.a.setItem("users",JSON.stringify(t)));case 6:c.next=10;break;case 8:c.prev=8,c.t0=c.catch(3);case 10:return c.prev=10,c.t1=JSON,c.next=14,u.a.awrap(l.a.getItem("users"));case 14:c.t2=c.sent,s=c.t1.parse.call(c.t1,c.t2),a(s),c.next=21;break;case 19:c.prev=19,c.t3=c.catch(10);case 21:case"end":return c.stop()}}),null,null,[[3,8],[10,19]],Promise)},d=(n[0].username,"https://instanext-server.herokuapp.com/api/v1/user/"+n[0].username),v=h.a.useState(!1),O=c()(v,2),y=O[0],j=O[1],k=function(){j(!y)},N=function(){return h.a.createElement(m.TopNavigationAction,{icon:function(){return h.a.createElement(S.a,{style:T.menuActionWrapper},h.a.createElement(m.Text,null,n[0].username))},onPress:k})};return Object(x.useEffect)((function(){n.length||navigation.navigate("Home")}),[n]),h.a.createElement(m.TopNavigation,{title:function(e){return h.a.createElement(S.a,{style:T.titleContainer},h.a.createElement(m.Text,e,"LikeTime"))},accessoryRight:function(){return h.a.createElement(m.OverflowMenu,{anchor:N,visible:y,onBackdropPress:k,placement:"bottom end",backdropStyle:T.backdrop,onSelect:k},n.slice(1).map((function(e){return h.a.createElement(m.MenuItem,{key:e.username,accessoryLeft:function(){return h.a.createElement(m.Avatar,{source:e.profilePic,style:{width:30,height:30}})},title:e.username,onPress:function(e){return function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return k(),t.next=3,u.a.awrap(b(e));case 3:case"end":return t.stop()}}),null,null,null,Promise)}(e)}})})),h.a.createElement(m.MenuItem,{accessoryLeft:C,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442",onPress:function(){return k(),void o(!0)}}),h.a.createElement(m.MenuItem,{accessoryLeft:M,title:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b",disabled:!f,onPress:function(){return function(){var e,t;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return k(),g(!1),w.a.request({method:"DELETE",url:d}),(e=E()(n)).shift(),r.prev=5,r.next=8,u.a.awrap(l.a.setItem("users",JSON.stringify(e)));case 8:r.next=12;break;case 10:r.prev=10,r.t0=r.catch(5);case 12:return r.prev=12,r.t1=JSON,r.next=16,u.a.awrap(l.a.getItem("users"));case 16:r.t2=r.sent,t=r.t1.parse.call(r.t1,r.t2),a(t),r.next=23;break;case 21:r.prev=21,r.t3=r.catch(12);case 23:g(!0);case 24:case"end":return r.stop()}}),null,null,[[5,10],[12,21]],Promise)}()}}))}})},T=k.a.create({titleContainer:{flexDirection:"row",alignItems:"center"},logo:{marginHorizontal:16},backdrop:{backgroundColor:"rgba(0, 0, 0, 0.5)"},menuActionWrapper:{display:"flex",flexDirection:"column",alignItems:"flex-end"}}),J=n(84),D=n(136),L=n(529),B=Object(D.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),A=B.actions,z=(A.increment,A.decrement,A.incrementByAmount,B.reducer),W=n(282),_=n(3),H=n.n(_);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){H()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=Object(D.b)({name:"messages",initialState:{status:!1,statusMessages:[],logMessages:[],lastStatusMessage:""},reducers:{getMessages:function(){},setMessages:function(e,t){var n=t.payload,a=n.status,r=n.statusMessages,s=n.logMessages;return U(U({},e),{},{statusMessages:r,logMessages:s,lastStatusMessage:r[r.length-1],status:a})},receiveStatusMessage:function(e,t){U(U({},e),{},{statusMessages:e.statusMessages.push(t.payload)}),e.lastStatusMessage=e.statusMessages[e.statusMessages.length-1]},receiveLogMessage:function(e,t){U(U({},e),{},{logMessages:e.logMessages.push(t.payload)})},clearMessages:function(){return{statusMessages:[],logMessages:[],status:!1}}}}),q=V.actions,F=q.getMessages,G=q.setMessages,K=q.receiveStatusMessage,Y=q.receiveLogMessage,$=q.clearMessages,Q=V.reducer,X=n(327),Z=n(110),ee=(Object(X.a)({apiKey:"AIzaSyDUvepMMzgNGs8i7UWckIJDiOxq59vPsW0",authDomain:"liketime-server.firebaseapp.com",projectId:"liketime-server",storageBucket:"liketime-server.appspot.com",messagingSenderId:"369110340364",appId:"1:369110340364:web:a415673372c20c39c66f29",measurementId:"G-R25JK2PYV8"}),Object(Z.c)()),te=function(e){var t,n,a;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(Z.a)(ee,"messages",e),r.next=3,u.a.awrap(Object(Z.b)(t));case 3:return n=r.sent,a=n.data(),console.log(a),r.abrupt("return",a);case 7:case"end":return r.stop()}}),null,null,null,Promise)},ne=u.a.mark(ae);function ae(e){var t,n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.username,a.next=5,Object(W.a)(te,n);case 5:a.sent,a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),ne,null,[[0,8]])}var re=u.a.mark(se);function se(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.b)(F.type,ae);case 2:case"end":return e.stop()}}),re)}var ce=Object(L.a)(),oe=[ce],ue=Object(J.c)({counter:z,messages:Q}),ie=Object(D.a)({reducer:ue,middleware:[].concat(E()(Object(D.c)({thunk:!1})),oe)});ce.run(se);var le=ie,pe=n(1557),fe=n(1555),me=n(94),ge=n(108),be=n(138);function de(e){var t=e.visible,n=e.setVisible,a=Object(x.useContext)(I),r=c()(a,2),s=r[0],o=r[1],i=Object(x.useState)(""),p=c()(i,2),f=p[0],m=p[1],g=Object(x.useState)(""),b=c()(g,2),d=b[0],v=b[1],O=function(){n(!1)};return h.a.createElement(be.a.Container,{visible:t,onBackdropPress:O},h.a.createElement(be.a.Title,null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),h.a.createElement(be.a.Input,{style:ve.input,autoCapitalize:"none",label:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",autoCorrect:!1,value:f,onChangeText:function(e){m(e)}}),h.a.createElement(be.a.Input,{style:ve.input,wrapperStyle:ve.wrapper,autoCapitalize:"none",autoCorrect:!1,label:"\u041f\u0430\u0440\u043e\u043b\u044c:",value:d,onChangeText:function(e){v(e)}}),h.a.createElement(be.a.Button,{label:"\u041e\u0442\u043c\u0435\u043d\u0430",onPress:O}),h.a.createElement(be.a.Button,{label:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){w.a.post("https://instanext-server.herokuapp.com/api/v1/user/",{username:f,password:d}).then((function(e){console.log(e);var t=e.data;!function(e){var t,n,a;u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(t=E()(s)).push(e),n=t.findIndex((function(t){return t.username===e.username})),t.unshift(t.splice(n,1)[0]),r.prev=4,r.next=7,u.a.awrap(l.a.setItem("users",JSON.stringify(t)));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(4),alert("error1");case 12:return r.prev=12,r.t1=JSON,r.next=16,u.a.awrap(l.a.getItem("users"));case 16:r.t2=r.sent,a=r.t1.parse.call(r.t1,r.t2),o(a),r.next=24;break;case 21:r.prev=21,r.t3=r.catch(12),alert("error2");case 24:case"end":return r.stop()}}),null,null,[[4,9],[12,21]],Promise)}({username:t.username,profilePic:t.userProfilePic,token:t.token})})).catch((function(e){console.log(e)})),n(!1)}}))}var ve=k.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},input:{borderBottomColor:"black",borderBottomWidth:.8},wrapper:{}}),xe=h.a.createContext(null),he=function(e,t,n,a){return e.watch("/user/"+t+"/queue/"+n).subscribe((function(e){var t=JSON.parse(e.body).status;a(t)}))},Oe=n(280),ye=n(34),Ee=function(e){var t=e.message,n=e.index;return h.a.createElement(S.a,{style:je.line},h.a.createElement(ye.a,{style:je.index},n+1),h.a.createElement(ye.a,{style:je.message},t))},je=k.a.create({line:{flexDirection:"row",justifyContent:"flex-start"},index:{width:50,textAlign:"right",color:"#595959"},message:{paddingLeft:20,color:"#d6d6d6"}}),we=function(){var e=Object(x.useRef)(null),t=Object(O.c)((function(e){return e.messages})).logMessages;return h.a.createElement(Oe.a,{style:{width:"100%",flexGrow:0,backgroundColor:"#222222"},data:t,renderItem:function(e){var t=e.item,n=e.index;return h.a.createElement(Ee,{message:t,index:n})},keyExtractor:function(e,t){return t.toString()},contentContainerStyle:{},ref:e,onContentSizeChange:function(){e.current.scrollToEnd()}})},ke=function(e){e.statusMessage;var t=Object(O.c)((function(e){return e.messages})).lastStatusMessage;return h.a.createElement(S.a,{style:Se.root},h.a.createElement(ye.a,{style:Se.title},t))},Se=k.a.create({root:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",backgroundColor:"black",height:50,width:"100%"},title:{color:"white",paddingLeft:22}}),Pe=k.a.create({root:{flex:1,marginTop:10,alignItems:"center",justifyContent:"flex-start"}}),Ie=function(){var e=Object(x.useContext)(xe),t=c()(e,1)[0],n=Object(x.useContext)(I),a=c()(n,1)[0],r=Object(O.c)((function(e){return e.status})).status,s=Object(O.b)();return h.a.createElement(S.a,{style:Pe.root},h.a.createElement(v.Button,{colorScheme:"emerald",isLoading:r,isLoadingText:"\u0432 \u0440\u0430\u0431\u043e\u0442\u0435",onPress:function(){var e;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return s($()),n.next=3,u.a.awrap(t.activate());case 3:return setIsRunning(!0),e={username:a[0].username,token:a[0].token},n.next=7,u.a.awrap(t.publish({destination:"/app/test",body:JSON.stringify(e)}));case 7:case"end":return n.stop()}}),null,null,null,Promise)},variant:"outline",size:"sm"},"Test"),h.a.createElement(v.Button,{colorScheme:"emerald",size:"sm",variant:"outline",onPress:function(){var e={username:a[0].username,token:a[0].token,tag:"onedayinperu"};t.publish({destination:"/app/newlike",body:JSON.stringify(e)})}},"1212"),h.a.createElement(ke,null),h.a.createElement(we,null))},Ce=n(107),Me=k.a.create({root:{flex:1,marginTop:10,alignItems:"center",justifyContent:"flex-start"}}),Ne=function(){var e=Object(x.useContext)(xe),t=c()(e,1)[0],n=Object(x.useContext)(I),a=c()(n,1)[0];return h.a.createElement(S.a,{style:Me.root},h.a.createElement(Ce.a,{title:"1212",onPress:function(){var e={username:a[0].username,token:a[0].token,tag:"onedayinperu"};t.publish({destination:"/app/newlike",body:JSON.stringify(e)})}}),h.a.createElement(ke,null),h.a.createElement(we,null))},Te=k.a.create({root:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},textInput:{height:40,borderBottomColor:"gray",borderBottomWidth:1,width:"80%",marginVertical:10}}),Je=function(e){var t=e.taskName,n=e.destination,a=e.buttonName,r=Object(x.useContext)(xe),s=c()(r,1)[0],o=Object(x.useContext)(I),i=c()(o,1)[0],l=Object(x.useState)(""),p=c()(l,2),f=p[0],m=p[1],g=(Object(O.b)(),Object(O.c)((function(e){return e.messages})).status);return h.a.createElement(S.a,{style:Te.root},h.a.createElement(Oe.b,{style:Te.textInput,autoCapitalize:"none",autoCorrect:!1,textAlign:"center",value:f,placeholder:t,onChangeText:function(e){return m(e)}}),h.a.createElement(Ce.a,{title:a||"\u0421\u0442\u0430\u0440\u0442",disabled:g,onPress:function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return""===f&&alert("\u0422\u0435\u0433 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c!"),f.replace("#","").replace(/\s/g,""),t.next=6,u.a.awrap(s.activate());case 6:return e={username:i[0].username,token:i[0].token,tag:f},t.next=9,u.a.awrap(s.publish({destination:n,body:JSON.stringify(e)}));case 9:case"end":return t.stop()}}),null,null,null,Promise)}}))},De=k.a.create({root:{flex:1,marginTop:10,alignItems:"center",justifyContent:"flex-start"}}),Le=function(){return h.a.createElement(S.a,{style:De.root},h.a.createElement(Je,{taskName:"\u041b\u0430\u0439\u043a",destination:"/app/like"}),h.a.createElement(Je,{taskName:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435",destination:"/app/save"}),h.a.createElement(Je,{taskName:"\u041b\u0430\u0439\u043a + \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435",destination:"/app/likeandsave"}),h.a.createElement(Je,{taskName:"\u0421\u0430\u043c\u043e\u043b\u0435\u0442",destination:"/app/sendmediatogroup"}),h.a.createElement(ke,null),h.a.createElement(we,null))};function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){H()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze="#E8CEBF",We="#fff",_e=Object(pe.a)(),He=function(e){e.navigation;var t=Object(x.useState)(new fe.a),n=c()(t,2),a=n[0],s=(n[1],Object(x.useState)(!1)),o=c()(s,2),i=o[0],l=o[1],p=Object(x.useContext)(I),f=c()(p,2),m=f[0],g=(f[1],Object(x.useContext)(P)),b=c()(g,2),d=b[0],v=b[1],y=m[0].username,E=m[0].token,j=Object(O.c)((function(e){return e.messages})).status;Object(x.useEffect)((function(){console.log(JSON.stringify(j));u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==j){e.next=5;break}return e.next=3,u.a.awrap(a.activate());case 3:e.next=7;break;case 5:return e.next=7,u.a.awrap(a.deactivate());case 7:case"end":return e.stop()}}),null,null,null,Promise)}),[j]),a.configure(function(e,t){return{brokerURL:"wss://instanext-server.herokuapp.com/ws",connectHeaders:{sessionId:e,token:t},appendMissingNULLonIncoming:!0,forceBinaryWSFrames:!0,debug:function(e){console.log("STOMP: "+e)},reconnectDelay:1e4,connectionTimeout:5e3}}(y,E));var w,k,C=Object(x.useState)(),M=c()(C,2),N=M[0],T=M[1];Object(x.useEffect)((function(){var e=a.connectionState$.subscribe(T);return l(N===me.a.OPEN),function(){return e.unsubscribe()}})),Object(x.useEffect)((function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Z.d)(Object(Z.a)(ee,"messages",y),(function(e){if(e.exists()){var t=e.data();console.log("Document data:",t),J(G(Ae({},t)))}else console.log("No such document!")}));case 1:case"end":return e.stop()}}),null,null,null,Promise),function(){return unsub()}}),[]);var J=Object(O.b)(),D=function(e){J(K(e)),J(F({username:m[0].username}))},L=function(e){return J(Y(e))};return Object(x.useEffect)((function(){return J(F({username:m[0].username})),w=he(a,y,"status",D),k=he(a,y,"log",L),function(){w.unsubscribe(),k.unsubscribe()}}),[m]),h.a.createElement(xe.Provider,{value:[a,i,l]},h.a.createElement(S.a,{style:Re.root},h.a.createElement(ge.a,{backgroundColor:We,barStyle:"dark-content"}),h.a.createElement(de,{visible:d,setVisible:v,style:Re.dialog}),h.a.createElement(_e.Navigator,null,h.a.createElement(_e.Screen,{name:"\u041b\u0430\u0439\u043a\u0438"},(function(e){return h.a.createElement(Le,r()({},e,{isConnected:i,visible:d,setVisible:v}))})),h.a.createElement(_e.Screen,{name:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"},(function(e){return h.a.createElement(Ne,e)})),h.a.createElement(_e.Screen,{name:"Admin"},(function(e){return h.a.createElement(Ie,e)})))))},Re=k.a.create({root:{flex:1,backgroundColor:ze}}),Ue=n(58),Ve=function(e){var t=e.navigation,n=Object(x.useContext)(I),a=c()(n,2),r=a[0],s=a[1],o=Object(x.useState)(""),i=c()(o,2),p=i[0],f=i[1],m=Object(x.useState)(""),g=c()(m,2),b=g[0],d=g[1],v=function(e){var t,n;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=[]).push(e),a.prev=2,a.next=5,u.a.awrap(l.a.setItem("users",JSON.stringify(t)));case 5:a.next=9;break;case 7:a.prev=7,a.t0=a.catch(2);case 9:return a.prev=9,a.t1=JSON,a.next=13,u.a.awrap(l.a.getItem("users"));case 13:a.t2=a.sent,n=a.t1.parse.call(a.t1,a.t2),s(n),a.next=20;break;case 18:a.prev=18,a.t3=a.catch(9);case 20:case"end":return a.stop()}}),null,null,[[2,7],[9,18]],Promise)};return Object(x.useEffect)((function(){r.length&&t.navigate("Home")}),[r]),h.a.createElement(S.a,{style:qe.container},h.a.createElement(ye.a,{style:qe.titleText},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),h.a.createElement(Ue.a,{style:qe.textInput,placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:p,onChangeText:function(e){f(e)}}),h.a.createElement(Ue.a,{style:qe.textInput,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",secureTextEntry:!0,value:b,onChangeText:function(e){d(e)}}),h.a.createElement(Ce.a,{title:"\u0412\u043e\u0439\u0442\u0438",onPress:function(){w.a.post("https://instanext-server.herokuapp.com/api/v1/user/",{username:p,password:b}).then((function(e){console.log(e);var t=e.data;"true"===t.error&&alert(t.errorMessage);var n={username:t.username,profilePic:t.userProfilePic,token:t.token};v(n)})).catch((function(e){console.log(e)}))}}))},qe=k.a.create({container:{flex:1,alignItems:"center"},titleText:{fontSize:30,fontWeight:"bold"},textInput:{margin:20,height:40,borderColor:"red",borderWidth:1,width:"80%"}}),Fe=Object(f.a)(),Ge=Object(v.extendTheme)({colors:{brand:{900:"#8287af",800:"#7c83db",700:"#b3bef6"}}});function Ke(){var e=Object(x.useState)(!1),t=c()(e,2),n=t[0],a=t[1],s=Object(x.useState)(!1),o=c()(s,2),f=o[0],y=o[1],E=Object(x.useState)(""),j=c()(E,2),w=j[0],k=j[1],S=Object(x.useState)(""),C=c()(S,2),M=C[0],T=C[1],J=Object(x.useState)(""),D=c()(J,2),L=D[0],B=D[1],A=Object(x.useState)(""),z=c()(A,2),W=z[0],_=z[1],H=Object(x.useState)([]),R=c()(H,2),U=R[0],V=R[1],q=Object(x.useState)(!1),F=c()(q,2),G=F[0],K=F[1],Y=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.awrap(l.a.getItem("@logged_in_user"));case 3:null==(e=t.sent)?k("Login"):(y(!0),$(e),{username:"kflkl",profilePic:"dffd"},k("Home")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("error getting logged in user");case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)},$=function(e){var t,n;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.a.awrap(l.a.getItem(e));case 3:t=a.sent,n=JSON.parse(t),_(n.token),T(e),B(n.profilePic),a.next=12;break;case 10:a.prev=10,a.t0=a.catch(0);case 12:case"end":return a.stop()}}),null,null,[[0,10]],Promise)},Q=function(e,t){var n;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=JSON.stringify(t),a.next=4,u.a.awrap(l.a.setItem(e,n));case 4:a.next=8;break;case 6:a.prev=6,a.t0=a.catch(0);case 8:X(e);case 9:case"end":return a.stop()}}),null,null,[[0,6]],Promise)},X=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.awrap(l.a.setItem("@logged_in_user",e));case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:return t.next=9,u.a.awrap(Y());case 9:case"end":return t.stop()}}),null,null,[[0,5]],Promise)},Z=function(e,t){var n;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=JSON.stringify(t),a.next=4,u.a.awrap(l.a.setItem(e,n));case 4:a.next=8;break;case 6:a.prev=6,a.t0=a.catch(0);case 8:return a.prev=8,a.next=11,u.a.awrap(l.a.setItem("@logged_in_user",e));case 11:a.next=15;break;case 13:a.prev=13,a.t1=a.catch(8);case 15:return a.prev=15,a.next=18,u.a.awrap(l.a.getItem("@logged_in_user"));case 18:d=a.sent,a.next=23;break;case 21:a.prev=21,a.t2=a.catch(15);case 23:return a.next=25,u.a.awrap(T(d));case 25:return a.next=27,u.a.awrap($(d));case 27:case"end":return a.stop()}}),null,null,[[0,6],[8,13],[15,21]],Promise)},ee=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=JSON,t.next=4,u.a.awrap(l.a.getItem("users"));case 4:t.t1=t.sent,(e=t.t0.parse.call(t.t0,t.t1)).length?(y(!0),V(e),k("Home")):k("Login"),t.next=12;break;case 9:t.prev=9,t.t2=t.catch(0),k("Login");case 12:case"end":return t.stop()}}),null,null,[[0,9]],Promise)};return n?h.a.createElement(O.a,{store:le},h.a.createElement(m.IconRegistry,{icons:g.EvaIconsPack}),h.a.createElement(m.ApplicationProvider,r()({},i,{theme:i.light}),h.a.createElement(v.NativeBaseProvider,{theme:Ge},h.a.createElement(I.Provider,{value:[U,V]},h.a.createElement(P.Provider,{value:[G,K]},h.a.createElement(p.a,null,h.a.createElement(Fe.Navigator,{initialRouteName:w},h.a.createElement(Fe.Screen,{name:"Home",options:function(e){e.navigation;return{header:function(){return h.a.createElement(N,null)}}}},(function(e){return h.a.createElement(He,r()({},e,{isLoggedIn:f,loggedInUsername:M,userProfilePic:L,token:W,storeNewUser:Z,storeUser:Q}))})),h.a.createElement(Fe.Screen,{name:"Login"},(function(e){return h.a.createElement(Ve,e)}))))))))):h.a.createElement(b.a,{startAsync:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee());case 1:case"end":return e.stop()}}),null,null,null,Promise)},onFinish:function(){a(!0)},onError:function(){}})}},535:function(e,t,n){e.exports=n(1539)},868:function(e,t){}},[[535,1,2]]]);
//# sourceMappingURL=app.5b3afdff.chunk.js.map